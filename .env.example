# ========================================
# Universal BI 环境配置文件模板
# ========================================
# 使用说明：
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据实际情况修改配置值
# 3. 不要提交 .env 文件到 Git 仓库
# ========================================

# ========== 应用基础配置 ==========
PROJECT_NAME="Universal BI"
API_V1_STR="/api/v1"
# 开发环境标志：True=开发环境（彩色易读日志），False=生产环境（JSON 格式日志）
DEV=True

# ========== JWT 安全配置 ==========
# 生成随机密钥: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY="change_this_to_a_secure_random_key_in_production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ========== 主数据库配置 ==========
# 支持 MySQL/PostgreSQL/SQLite
# MySQL 示例:
SQLALCHEMY_DATABASE_URI="mysql+pymysql://root:your_password@localhost:3306/universal_bi?charset=utf8mb4"
# PostgreSQL 示例:
# SQLALCHEMY_DATABASE_URI="postgresql://postgres:your_password@localhost:5432/universal_bi"
# SQLite 示例 (开发环境):
# SQLALCHEMY_DATABASE_URI="sqlite:///./sql_app.db"

# ========== AI 大模型配置 (必填) ==========
# 阿里云通义千问 API Key
# 获取地址: https://dashscope.console.aliyun.com/apiKey
DASHSCOPE_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxx"
QWEN_MODEL="qwen-max"

# ========== Redis 缓存配置 ==========
REDIS_URL="redis://localhost:6379/0"
# Redis 密码（如果设置了密码）:
# REDIS_URL="redis://:your_password@localhost:6379/0"
REDIS_CACHE_TTL=300

# ========== 向量数据库配置 (PGVector) ==========
# 用于 Vanna 训练数据存储
VN_PG_HOST="localhost"
VN_PG_PORT=5432
VN_PG_DB="universal_bi_vector"
VN_PG_USER="postgres"
VN_PG_PASSWORD="postgres"

# ========== ChromaDB 配置 ==========
# 用于向量存储和检索
CHROMA_PERSIST_DIR="./chroma_db"
CHROMA_N_RESULTS=10

# ========== 数据库连接配置（Docker Compose 使用） ==========
# MySQL 配置
MYSQL_ROOT_PASSWORD="root123456"
MYSQL_DATABASE="universal_bi"
MYSQL_PORT=3306

# PostgreSQL 配置
POSTGRES_PASSWORD="postgres123456"
POSTGRES_DB="universal_bi_vector"
POSTGRES_PORT=5432

# Redis 配置
REDIS_PORT=6379
REDIS_PASSWORD=""

# ========== 应用端口配置 ==========
BACKEND_PORT=8000
FRONTEND_PORT=3000
